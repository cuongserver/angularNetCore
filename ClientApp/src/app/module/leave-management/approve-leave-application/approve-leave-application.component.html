<div class="component-container" [@fadeAnimation]=transitionState [ngClass]="{'edit-mode': onConfirmation}">
  <h3>{{'dashboard.menuGroup.leaveManagement.functions.approveLeaveApplication' | translate}}</h3>
  <div class="command-bar flex-m">
    <!--<div class="btn btn-success m-t-3 m-b-3 m-l-3 m-r-3 fs-07-rem" (click)="clearSort()">
      <i class="fas fa-undo-alt"></i>&nbsp;&nbsp;
      {{ 'commonCaptions.clearSort' | translate }}
    </div>-->
    <div class="btn btn-success m-t-3 m-b-3 m-l-3 m-r-3 fs-07-rem" (click)="refresh()">
      <span><i class="fas fa-sync-alt"></i>&nbsp;&nbsp;{{'commonCaptions.refreshCommand' | translate}}</span>
    </div>   
  </div>
  <div class="data-display-section">
    <table class="table table-striped fs-07-rem">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col" sortable="trackingRef" priority="">ID</th>
          <th scope="col" sortable="applicantUserName" priority="">{{'commonCaptions.userName' | translate}}</th>
          <th scope="col" sortable="applicantUserFullName" priority="">{{'commonCaptions.userFullName' | translate}}</th>
          <th scope="col" priority="">{{'commonCaptions.userDeptCode' | translate}}</th>
          <th scope="col">{{'commonCaptions.deptDesc.caption' | translate}}</th>
          <th scope="col" priority="">{{'commonCaptions.userTitleCode' | translate}}</th>
          <th scope="col">{{'commonCaptions.titleDesc.caption' | translate}}</th>
          <th scope="col">{{'leaveCode.caption' | translate}}</th>
          <th scope="col" priority="">{{'commonCaptions.fromTime' | translate}}</th>
          <th scope="col" priority="">{{'commonCaptions.toTime' | translate}}</th>
          <th scope="col" priority="">{{'commonCaptions.timeComsumedCaption' | translate}}</th>
          <th scope="col" priority="">{{'commonCaptions.descriptionCommon' | translate}}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let app of apps; index as i">
          <th scope="row">
            <div class="flex-c-m" *ngIf="!app.approverCommand">
              <div class="p-l-7 p-r-7 p-t-5 p-b-5 hov-pointer table-line-command" title="{{'commonCaptions.approve' | translate}}" (click)="sendDecision(true,i)">
                <i class="fas fa-check"></i>
              </div>
              <div class="p-l-7 p-r-7 p-t-5 p-b-5 hov-pointer table-line-command" title="{{'commonCaptions.reject' | translate}}" (click)="sendDecision(false,i)">
                <i class="fas fa-ban"></i>
              </div>
            </div>
            <span class="after-process p-l-3 p-r-3" *ngIf="app.approverCommand" [ngClass]="{'negative': app.approverCommand == '0001'}">{{ 'approval.approval' + app.approverCommand | translate}}</span>
          </th>
          <td>
            {{ app.trackingRef }}
          </td>
          <td>
            {{ app.applicantUserName }}
          </td>
          <td>
            {{ app.applicantUserFullName }}
          </td>
          <td>
            {{ app.applicantDeptCode }}
          </td>
          <td>
            {{'commonCaptions.deptDesc.' + app.applicantDeptCode | translate}}
          </td>
          <td>
            {{ app.applicantTitleCode }}
          </td>
          <td>
            {{'commonCaptions.titleDesc.' + app.applicantTitleCode | translate}}
          </td>
          <td>
            {{ 'leaveCode.leaveCode' + app.leaveCode | translate }}
          </td>
          <td>
            {{app.fromTime}}
          </td>
          <td>
            {{app.toTime }}
          </td>
          <td>
            {{app.timeConsumed }}
          </td>
          <td>
            {{app.applicantDescription }}
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<app-leave-approval-confirm></app-leave-approval-confirm>
